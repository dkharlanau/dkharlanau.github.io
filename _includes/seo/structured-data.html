{% assign resume = site.data.resume %}
{% assign canonical_url = page.url | absolute_url %}
{% assign site_home = '/' | absolute_url %}
{% assign author_id = 'https://dkharlanau.github.io/#dkharlanau' %}
{% assign og_image = page.og_image | default: '/assets/og/default.png' | absolute_url %}
{% assign page_description = page.description | default: page.summary | default: page.excerpt | strip_html | normalize_whitespace %}
{% assign resume_json_url = '/ai/resume.json' | absolute_url %}
{% assign resume_yaml_url = '/ai/resume.yml' | absolute_url %}

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Dataset",
  "name": "Dzmitryi Kharlanau Resume Dataset",
  "description": "Structured resume formats (JSON and YAML) for copilots, sourcing agents, and automation workflows.",
  "creator": {
    "@type": "Person",
    "@id": "{{ author_id }}"
  },
  "license": "https://creativecommons.org/licenses/by/4.0/",
  "url": "{{ resume_json_url }}",
  "distribution": [
    {
      "@type": "DataDownload",
      "encodingFormat": "application/json",
      "contentUrl": "{{ resume_json_url }}"
    },
    {
      "@type": "DataDownload",
      "encodingFormat": "application/x-yaml",
      "contentUrl": "{{ resume_yaml_url }}"
    }
  ]
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "DataCatalog",
  "@id": "https://dkharlanau.github.io/ai/catalog.json#catalog",
  "name": "DKharlanau Professional Data Catalog",
  "url": "https://dkharlanau.github.io/ai/catalog.json",
  "dataset": [
    {"@type": "Dataset", "@id": "https://dkharlanau.github.io/ai/resume.yml"},
    {"@type": "Dataset", "@id": "https://dkharlanau.github.io/ai/resume.json"},
    {"@type": "Dataset", "@id": "https://dkharlanau.github.io/ai/principles.json"},
    {"@type": "Dataset", "@id": "https://dkharlanau.github.io/ai/recommendations.json"},
    {"@type": "Dataset", "@id": "https://dkharlanau.github.io/LLM.txt"}
  ]
}
</script>

{% if page.collection == 'notes' %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "{{ page.title | strip_html | normalize_whitespace | replace: '\"', '\\\"' }}",
  "description": "{{ page_description | truncate: 160 | replace: '\"', '\\\"' }}",
  "author": {
    "@id": "{{ author_id }}"
  },
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  {% if page.last_modified_at %}"dateModified": "{{ page.last_modified_at | date_to_xmlschema }}",{% elsif page.updated %}"dateModified": "{{ page.updated | date_to_xmlschema }}",{% endif %}
  "image": "{{ og_image }}",
  "mainEntityOfPage": "{{ canonical_url }}",
  "url": "{{ canonical_url }}"
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {"@type": "ListItem","position": 1,"name": "Home","item": "{{ site_home }}"},
    {"@type": "ListItem","position": 2,"name": "Notes","item": "{{ '/notes/' | absolute_url }}"},
    {"@type": "ListItem","position": 3,"name": "{{ page.title | strip_html | normalize_whitespace | replace: '\"', '\\\"' }}","item": "{{ canonical_url }}"}
  ]
}
</script>
{% elsif page.url == '/notes/' %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {"@type": "ListItem","position": 1,"name": "Home","item": "{{ site_home }}"},
    {"@type": "ListItem","position": 2,"name": "Notes","item": "{{ canonical_url }}"}
  ]
}
</script>
{% endif %}
