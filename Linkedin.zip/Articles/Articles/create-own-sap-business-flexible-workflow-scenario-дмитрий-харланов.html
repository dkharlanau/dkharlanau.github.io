<html>
<head>
  <title>Create your own SAP Business flexible workflow scenario</title>
  <style>
    body {
      margin: 0 auto;
      width: 744px;
      font-family: Source Serif Pro, serif;
      line-height: 32px;
      font-weight: 400;
      color: rgba(0, 0, 0, 0.7);
      font-size: 21px;
    }
    h1, h2, h3 {
      font-family: Source Sans Pro, Helvetica, Arial, sans-serif;
    }
    h1 a, h1 a:visited {
      color: inherit;
      text-decoration: none;
    }
    h1 {
      line-height: 48px;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.85);
      font-size: 42px;
      margin: 32px 0 20px;
    }
    h2 {
      line-height: 32px;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.85);
      font-size: 26px;
      margin: 28px 0;
    }
    h3 {
      line-height: 28px;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.85);
      font-size: 21px;
      margin: 24px 0;
    }
    p {
      margin: 32px 0;
    }
    .created, .published {
      color: rgba(0, 0, 0, 0.55);
      font-size: 15px;
      line-height: 15px;
      margin: 20px 0;
    }
    .created + .published {
      margin-top: -12px;
    }
    blockquote {
      font-family: Georgia, Source Serif Pro, serif;
      font-style: italic;
      font-size: 24px;
      line-height: 36px;
      margin: 48px 120px;
      text-align: center;
    }
    a {
      word-wrap: break-word;
      outline: none;
      text-decoration: none;
      background-color: transparent;
      border: 0;
      color: #008CC9;
    }
    a:hover {
      text-decoration: underline;
    }
    a:visited {
      color: #8C68CB;
    }
    .center {
      text-align: center;
    }
    iframe {
      display: block;
      margin: 44px auto;
    }
    *:not(pre) + pre, pre:first-of-type {
      margin-top: 32px;
      padding-top: 32px;
    }
    pre:only-of-type {
      margin: 32px 0;
      padding: 32px;
    }
    pre {
      background: #F3F6F8;
      overflow-x: auto;
      display: block;
      font-size: 13px;
      font-family: monospace;
      line-height: 13px;
      padding: 0 32px 32px;
      white-space: pre;
    }
    a.embedded {
      background: #F3F6F8;
      display: block;
      padding: 32px;
      margin: 32px 0;
    }
    img {
      height: auto;
      max-width: 100%;
    }
    .slate-image-embed__resize-full-width img {
      width: 100%;
    }
    .series-logo {
      width: 48px;
      height: 48px;
      box-sizing: border-box;
      background-clip: content-box;
      border: 4px solid transparent;
      border-radius: 6px;
      object-fit: scale-down;
      float: left;
    }
    .series-title {
      font-size: 16px;
      font-weight: 600;
      vertical-align: top;
    }
    .series-description {
      color: rgba(0,0,0,.6);
      font-weight: 400;
      font-size: 14px;
      line-height: 20px;
    }
    div {
      margin: 32px 0;
    }
  </style>
</head>
<body>
      <h1><a href="https://www.linkedin.com/pulse/create-own-sap-business-flexible-workflow-scenario-%D0%B4%D0%BC%D0%B8%D1%82%D1%80%D0%B8%D0%B9-%D1%85%D0%B0%D1%80%D0%BB%D0%B0%D0%BD%D0%BE%D0%B2">Create your own SAP Business flexible workflow scenario</a></h1>
    <p class="created">Created on 2022-01-10 16:42</p>
  <p class="published">Published on 2022-01-10 18:45</p>
  <div><p>Customer-specific workflows in SAP S4/HANA can be created with the classic approach using SWDD - Workflow Builder <strong>or </strong>with  Flexible Workflow Scenario Editor. Even the classic approach contains more opportunities to manage complex SAP business workflow scenarios, the Flexible workflow definition can still be used for clear and easy workflows. </p><p>To have more information about SAP Flexible Workflow, please, read the post: <a href="http://%20https//www.linkedin.com/pulse/get-acquainted-sap-business-flexible-workflow-%D0%B4%D0%BC%D0%B8%D1%82%D1%80%D0%B8%D0%B9-%D1%85%D0%B0%D1%80%D0%BB%D0%B0%D0%BD%D0%BE%D0%B2/?published=t" target="_blank">Get acquainted with SAP Business flexible workflow</a>.</p><p>For a short and simple scenario, let us assume that every night we have to analyze the situation with the available quantity of certain material groups. It is not the complete step-by-step guide, but it also contains the most important things necessary for Flexible workflow definition.</p><p>In order to create a custom flexible workflow scenario in SAP S4/HANA, create a new workflow with the transaction SWDD_SCENARIO - Flexible Workflow: Scenario Editor.</p><ul><li>If the available quantity fails under the defined stock ( master data or settings) of the material group XXX, then send a task to a user to verify the situation.  If the material is from the group YYY and it also fails some Stock level, then create a *Planned Independent Requirement  ( PIR ) in the background. </li></ul><p><em>*The PIR serves as a placeholder for the actual demand that you expect in the future.</em></p><p>The communication diagram shows that a program is called by a background job, an object lcl_event_creator is responsible to simulate ATP for the selected materials and pass the prepared data into BRF plus function to raise based on a scenario right Workflow event. </p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQFtjGZ2ukXcBg" src="https://media.licdn.com/dms/image/v2/C5612AQFtjGZ2ukXcBg/article-inline_image-shrink_1000_1488/article-inline_image-shrink_1000_1488/0/1641833641000?e=1761782400&amp;v=beta&amp;t=SHOdInlsdgQKGHRaWfOXK-HnWNCNm0ws64T8tgM5azk"></div><p>Create a flexible workflow scenario with the transaction <strong>SWDD_SCENARIO - Flexible Workflow: Scenario Editor&nbsp;</strong>using ABAP class as the lead object and starting a workflow by triggering an event. </p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQESCNudxPtpew" src="https://media.licdn.com/dms/image/v2/C5612AQESCNudxPtpew/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1641838372317?e=1761782400&amp;v=beta&amp;t=NMiORfW1vu5W4NMah47x-XeYOEOQhCDOHIlEL23XjHA"></div><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQF0o2reVvPmpA" src="https://media.licdn.com/dms/image/v2/C5612AQF0o2reVvPmpA/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1641838585200?e=1761782400&amp;v=beta&amp;t=i8Xj0Znq0GLM2AuqeqBpH9fVPMEHSfwhvr-Kjd9mKnE"></div><ul><li>Activate the parameter <strong>sap.bc.bmt.wfm.flex.start.obligatory</strong> for the business workflow definition, where the action is the user's input from My Inbox App.</li><li>Activate the new workflow scenario in SPRO menu path: SAP NetWeaver&gt; Application Server&gt; Business Management&gt; SAP Business Workflow&gt; Flexibler Workflow&gt; Scenario Activation. Activate WS00800238&nbsp;&nbsp;WFL_for_PO Workflow for Purchase Order.</li><li>Maintain workflow tasks that need to be included in the task filter together with their names and decision keys&nbsp;SAP NetWeaver&gt; SAP Gateway Service Enablement&gt; Content&gt; Workflow Settings&gt; Maintain Task Names and Decision Options</li></ul><p>In the Element, a new Item is created with Z-class implementing the interface IF_WORKFLOW</p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQEX_t463iwTJA" src="https://media.licdn.com/dms/image/v2/C5612AQEX_t463iwTJA/article-inline_image-shrink_1000_1488/article-inline_image-shrink_1000_1488/0/1641839082011?e=1761782400&amp;v=beta&amp;t=JSfqFg1DCYpJQJUJ8zONjuJsi5hPoezSJkLd-Vyl7n0"></div><p>Z-class should contain events to start the workflows for different scenarios:</p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQFrop2D__IbVg" src="https://media.licdn.com/dms/image/v2/C5612AQFrop2D__IbVg/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1641839142384?e=1761782400&amp;v=beta&amp;t=wEUbq31M5tJ_Rs4ZRaFFwog6bSdnmecM9LvlkCh1sNk"></div><p>Add the event to start the workflow:</p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQEiYET9jEzL9Q" src="https://media.licdn.com/dms/image/v2/C5612AQEiYET9jEzL9Q/article-inline_image-shrink_1000_1488/article-inline_image-shrink_1000_1488/0/1641839767501?e=1761782400&amp;v=beta&amp;t=5DLVTc9gVSKUMaBSg1xvMSYnEFMyWBu0LfQPPL0iUeQ"></div><p>Implement methods: BI_PERSISTENT~FIND_BY_LPOR, BI_PERSISTENT~LPOR for the key Plant + Material.</p><p>For each workflow scenario triggered by an event, create an activity ( or a list of activities ):</p><ol><li>for the first scenario, the system will send a task into My Inbox </li><li>in the second it runs a method of the class to create a PIR for material at Plant with the calculated quantity</li></ol><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQGufPa13pL3TQ" src="https://media.licdn.com/dms/image/v2/C5612AQGufPa13pL3TQ/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1641838429845?e=1761782400&amp;v=beta&amp;t=_quLAnWL3mgGiadZqZBTQxTMyMV0doKDAe5PIvNM-MI"></div><p>A task can contain the pre-condition ( for example is to check only materials having a special material group )</p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQEAvOTeAef0nQ" src="https://media.licdn.com/dms/image/v2/C5612AQEAvOTeAef0nQ/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1641838505617?e=1761782400&amp;v=beta&amp;t=R-rsHn3Mn0HEFDP0-E0pZw735BE0cYVL_DdFJ83zK_0"></div><p>The activity-&gt; Task will have the reference to ABAP Object by setting the ABAP class and the method:</p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQEbTT8IJtLgog" src="https://media.licdn.com/dms/image/v2/C5612AQEbTT8IJtLgog/article-inline_image-shrink_1000_1488/article-inline_image-shrink_1000_1488/0/1641838553009?e=1761782400&amp;v=beta&amp;t=CpB8iB8fDYQEQHiWfPgQuH48Mqc_GxVZcVmL1M9xJoM"></div><p>The most important part is<strong> Data binding between different SAP Business workflow </strong>elements: from an event to a workflow container, from the workflow to the task. Example of transferring data from the Workflow to the Task. The element of ATP view of a single material is transferred to a Task, where the ABAP class's method is called to perform an action. </p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQFGcKYpkI9cCg" src="https://media.licdn.com/dms/image/v2/C5612AQFGcKYpkI9cCg/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1641838897370?e=1761782400&amp;v=beta&amp;t=Zofzru9LWDPnEMfrw6UawQ7OQYTKyXAcXqJB6TfDdzg"></div><p>To activate the new Workflow scenario access the App Manage workflow and add a new Workflow for the new Workflow definition recently created. It will be available on the list now.</p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQEfO8vO4EDhSw" src="https://media.licdn.com/dms/image/v2/C5612AQEfO8vO4EDhSw/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1641839626107?e=1761782400&amp;v=beta&amp;t=swgt3LKs4PVxlndRs9HQk8KBepfPizhiHdAi7LJ_qqQ"></div><p>Call a workflow event from BRF plus to streamline the logic behind it. The expression WS* with the type <em>Raise Workflow event (Action) </em>contains the link to Workflow events with passing them a parameter for a triggered event. </p><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQGU69gFDjYrVA" src="https://media.licdn.com/dms/image/v2/C5612AQGU69gFDjYrVA/article-inline_image-shrink_1000_1488/article-inline_image-shrink_1000_1488/0/1641840121035?e=1761782400&amp;v=beta&amp;t=RKnbEihPedeZKebLV1APkAe8cWH0zeiptb69knoQPCQ"></div><div class="slate-resizable-image-embed slate-image-embed__resize-full-width"><img alt="No alt text provided for this image" data-media-urn="urn:li:digitalmediaAsset:C5612AQGE9rECBpGDKQ" src="https://media.licdn.com/dms/image/v2/C5612AQGE9rECBpGDKQ/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1641840134168?e=1761782400&amp;v=beta&amp;t=APHgVqF_rZbYl7LmWg_PMXR4ONGscYD0Y6L2xrHQdoA"></div></div>
</body>
</html>