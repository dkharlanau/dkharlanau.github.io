<html>
<head>
  <title>Working with the Business Object Processing Framework (BOPF)</title>
  <style>
    body {
      margin: 0 auto;
      width: 744px;
      font-family: Source Serif Pro, serif;
      line-height: 32px;
      font-weight: 400;
      color: rgba(0, 0, 0, 0.7);
      font-size: 21px;
    }
    h1, h2, h3 {
      font-family: Source Sans Pro, Helvetica, Arial, sans-serif;
    }
    h1 a, h1 a:visited {
      color: inherit;
      text-decoration: none;
    }
    h1 {
      line-height: 48px;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.85);
      font-size: 42px;
      margin: 32px 0 20px;
    }
    h2 {
      line-height: 32px;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.85);
      font-size: 26px;
      margin: 28px 0;
    }
    h3 {
      line-height: 28px;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.85);
      font-size: 21px;
      margin: 24px 0;
    }
    p {
      margin: 32px 0;
    }
    .created, .published {
      color: rgba(0, 0, 0, 0.55);
      font-size: 15px;
      line-height: 15px;
      margin: 20px 0;
    }
    .created + .published {
      margin-top: -12px;
    }
    blockquote {
      font-family: Georgia, Source Serif Pro, serif;
      font-style: italic;
      font-size: 24px;
      line-height: 36px;
      margin: 48px 120px;
      text-align: center;
    }
    a {
      word-wrap: break-word;
      outline: none;
      text-decoration: none;
      background-color: transparent;
      border: 0;
      color: #008CC9;
    }
    a:hover {
      text-decoration: underline;
    }
    a:visited {
      color: #8C68CB;
    }
    .center {
      text-align: center;
    }
    iframe {
      display: block;
      margin: 44px auto;
    }
    *:not(pre) + pre, pre:first-of-type {
      margin-top: 32px;
      padding-top: 32px;
    }
    pre:only-of-type {
      margin: 32px 0;
      padding: 32px;
    }
    pre {
      background: #F3F6F8;
      overflow-x: auto;
      display: block;
      font-size: 13px;
      font-family: monospace;
      line-height: 13px;
      padding: 0 32px 32px;
      white-space: pre;
    }
    a.embedded {
      background: #F3F6F8;
      display: block;
      padding: 32px;
      margin: 32px 0;
    }
    img {
      height: auto;
      max-width: 100%;
    }
    .slate-image-embed__resize-full-width img {
      width: 100%;
    }
    .series-logo {
      width: 48px;
      height: 48px;
      box-sizing: border-box;
      background-clip: content-box;
      border: 4px solid transparent;
      border-radius: 6px;
      object-fit: scale-down;
      float: left;
    }
    .series-title {
      font-size: 16px;
      font-weight: 600;
      vertical-align: top;
    }
    .series-description {
      color: rgba(0,0,0,.6);
      font-weight: 400;
      font-size: 14px;
      line-height: 20px;
    }
    div {
      margin: 32px 0;
    }
  </style>
</head>
<body>
      <h1><a href="https://www.linkedin.com/pulse/working-business-object-processing-framework-bopf-dzmitryi-kharlanau-hwgnf">Working with the Business Object Processing Framework (BOPF)</a></h1>
    <p class="created">Created on 2024-12-13 11:00</p>
  <p class="published">Published on 2024-12-23 19:30</p>
  <div><blockquote><p><em>The Business Object Processing Framework (BOPF) is a powerful tool that enables developers to model, create, and manage business objects (BOs). Instead of focusing on the technical infrastructure, BOPF allows developers to center their efforts on business logic. </em></p></blockquote><h3>What Is BOPF?</h3><p>BOPF simplifies handling business objects by providing tools and services for their entire lifecycle, from creation to deletion. The framework supports features such as:</p><ul><li><p><strong>Structured Data Management</strong>: BOs are structured into nodes and associations.</p></li><li><p><strong>Behavioral Implementation</strong>: Automate actions, validations, and determinations.</p></li><li><p><strong>Performance Optimization</strong>: Tools for improving data retrieval and update efficiency.</p></li></ul><h3>Key Transactions:</h3><ul><li><p><strong>BOBX</strong>: Used for creating and enhancing business objects.</p></li><li><p><strong>BOBT</strong>: A test environment to view and manipulate BO data.</p></li></ul><hr><h3>Anatomy of a Business Object (BO)</h3><p>A business object in BOPF consists of:</p><ol><li><p><strong>Nodes</strong>: Represent structured aspects of the business object, like tables or data segments.</p></li><li><p><strong>Associations</strong>: Define relationships between nodes.</p></li><li><p><strong>Behavior</strong>: Defines actions, validations, and determinations.</p></li></ol><hr><h3>Working with Nodes</h3><p>Nodes represent the structure and data of the business object.</p><h3>Types of Nodes:</h3><ul><li><p><strong>Persistent Nodes</strong>: Data stored permanently in the database.</p></li><li><p><strong>Transient Nodes</strong>: Temporary data used during runtime.</p></li></ul><h3>Example: Creating a Node</h3><p>Nodes are configured with persistent and transient structures in the ABAP Dictionary.</p><hr><h3>Using Associations</h3><p>Associations define relationships between nodes or other business objects.</p><h3>Types of Associations:</h3><ul><li><p><strong>Normal Association</strong>: Links nodes within the same BO.</p></li><li><p><strong>Foreign Key Association</strong>: Links nodes across BOs using custom keys.</p></li><li><p><strong>Specialization Association</strong>: Adds filters for more specific relationships.</p></li></ul><hr><h3>Behavior Implementation</h3><p>The behavior of a business object is defined by implementing key interfaces:</p><ul><li><p><strong>Service Manager (</strong>)</p></li><li><p><strong>Transaction Manager (</strong>)</p></li></ul><hr><h3>Core Methods:</h3><p><strong>Query by Key</strong> Retrieve specific node instances using unique keys.</p><pre></pre><p><strong>Create Nodes</strong> Insert data into the BO.</p><pre></pre><p><strong>Execute Actions</strong> Trigger specific actions defined in the BO.</p><pre></pre><p><strong>Validations and Determinations</strong> Ensure data consistency or trigger business logic automatically.</p><pre></pre><h3>Debugging and Tools</h3><p>Debugging in BOPF can be simplified with tools like:</p><ul><li><p>: To analyze .</p></li><li><p>: For modifications ().</p></li></ul><p>Use these scripts to examine changes, messages, and errors effectively.</p><hr><h3>Change Documents and Archiving</h3><p>BOPF supports SAP NetWeaver’s change document framework to log changes to business objects. Use transaction <strong>SCDO</strong> to configure change document objects and integrate them with your BO.</p><hr><h3>Status management</h3><ul><li><p>Define the status adapter class /BOFU/CL_LIB_STATUS_ADAPTER as a “Status Class” and “Status Derivator” in your business object configuration.</p></li></ul><hr><h3>Performance Optimization</h3><ol><li><p>It is important that core services, that query data from the database, are used in a&nbsp;<strong>mass-enabled fashion</strong>.&nbsp;</p></li><li><p>All methods of the service manager and the io_read are mass-enabled. Fetch all data in an internal table and loop afterwards over the entries.&nbsp;</p></li><li><p>The reading access via alternative key and the navigation to child nodes are very slow and need to be accelerated.A database index improves the performance of reading data from a database table. In principle it is a (sorted) selection of database columns. If the data is changed, the corresponding index will be automatically updated which costs additional performance. There are two different kinds of an indexA new alternative key is created on a node. It is recommended to create a secondary index for that alternative key.</p></li><li><p>Instead of executing the determination immediately after each modification, configure it to the finalize determination time. It will only be executed during the save and thus it will be less often executed than before.</p></li><li><p>By default, BOPF locks instances automatically while editing them. As transient node instances are always isolated to the current session scope, it is not needed to lock them.&nbsp;</p></li><li><p>Queries fetch data from a business object. If the size of data of a business object increases, the query usage can slow down the scenario performance.</p></li><li><p>&nbsp;A consumer using a query should specify the information request as fine grained as possible. Thereto the IS_QUERY_OPTIONS parameter should be used:&nbsp;Use the MAXIMUM_ROWS component in order to restrict the query result&nbsp;Use the SORTING_OPTIONS in order to get an already sorted result instead of sorting it on ABAP level&nbsp;Use paging (PAGING_ACTIVE) and hand over the START_ROW or the START_KEY of the desired page</p></li></ol><hr><h3>When to Use BOPF</h3><p>BOPF is ideal for projects requiring:</p><ul><li><p><strong>Complex Data Relationships</strong>: Where nodes and associations are heavily used.</p></li><li><p><strong>Consistent Business Logic</strong>: With reusable and centralized definitions.</p></li><li><p><strong>High Scalability</strong>: For applications handling large data volumes with frequent updates.</p></li></ul><hr><h3>Additional information</h3><ul><li><p><a href="https://blogs.sap.com/2013/01/04/navigating-the-bopf-part-1-getting-started/" target="_blank">https://blogs.sap.com/2013/01/04/navigating-the-bopf-part-1-getting-started/</a></p></li><li><p><a href="https://blogs.sap.com/2013/01/04/navigating-the-bopf-part-2-business-object-overview/" target="_blank">https://blogs.sap.com/2013/01/04/navigating-the-bopf-part-2-business-object-overview/</a></p></li><li><p><a href="https://blogs.sap.com/2013/01/16/navigating-the-bopf-part-3-working-with-the-bopf-api/" target="_blank">https://blogs.sap.com/2013/01/16/navigating-the-bopf-part-3-working-with-the-bopf-api/</a></p></li><li><p><a href="https://blogs.sap.com/2013/01/29/navigating-the-bopf-part-4-advanced-bopf-api-features/" target="_blank">https://blogs.sap.com/2013/01/29/navigating-the-bopf-part-4-advanced-bopf-api-features/</a></p></li><li><p><a href="https://blogs.sap.com/2013/02/22/navigating-the-bopf-part-5-enhancement-techniques/" target="_blank">https://blogs.sap.com/2013/02/22/navigating-the-bopf-part-5-enhancement-techniques/</a></p></li><li><p><a href="https://blogs.sap.com/2013/03/04/navigating-the-bopf-part-6-testing-ui-integration/" target="_blank">https://blogs.sap.com/2013/03/04/navigating-the-bopf-part-6-testing-ui-integration/</a></p></li><li><p><a href="https://help.sap.com/viewer/aa7fc5c3c1524844b811735b9373252a/7.5.4/en-US/ff7b806c01e44df7ba70878cc11d8a73.html" target="_blank">SAP help documentation, BOPF</a></p></li><li><p>BOPF – Business-Objekte mit ABAP entwickeln von Felix Roth, Stefan Stöhr</p></li></ul><p></p><p><a target="_blank" href="https://www.linkedin.com/in/dkharlanau?miniProfileUrn=urn%3Ali%3Afs_miniProfile%3AACoAABBLdeYBRDV9XRmMIo8BWaZWNzGTtoVtV3M">Dzmitryi Kharlanau</a>, SAP consultant</p></div>
</body>
</html>